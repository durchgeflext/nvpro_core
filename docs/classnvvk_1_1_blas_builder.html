<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nvpro_core: nvvk::BlasBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">nvpro_core
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classnvvk_1_1_blas_builder.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classnvvk_1_1_blas_builder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nvvk::BlasBuilder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages the construction and optimization of Bottom-Level Acceleration Structures (BLAS) for Vulkan Ray Tracing.  
 <a href="classnvvk_1_1_blas_builder.html#details">More...</a></p>

<p><code>#include &lt;acceleration_structures.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnvvk_1_1_blas_builder_1_1_stats.html">Stats</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6789d71adb825bcb4f9a4f91ff53b488"><td class="memItemLeft" align="right" valign="top"><a id="a6789d71adb825bcb4f9a4f91ff53b488"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BlasBuilder</b> (nvvk::ResourceAllocator *allocator, VkDevice device)</td></tr>
<tr class="separator:a6789d71adb825bcb4f9a4f91ff53b488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa08455118a626fd4a645c7dd38dbec43"><td class="memItemLeft" align="right" valign="top"><a id="aa08455118a626fd4a645c7dd38dbec43"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>cmdCreateBlas</b> (VkCommandBuffer cmd, std::vector&lt; <a class="el" href="structnvvk_1_1_acceleration_structure_build_data.html">AccelerationStructureBuildData</a> &gt; &amp;blasBuildData, std::vector&lt; nvvk::AccelKHR &gt; &amp;blasAccel, VkDeviceAddress scratchAddress, VkDeviceSize hintMaxBudget=512 '000 '000)</td></tr>
<tr class="separator:aa08455118a626fd4a645c7dd38dbec43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60566780bd870c341962c92e78a87447"><td class="memItemLeft" align="right" valign="top"><a id="a60566780bd870c341962c92e78a87447"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>cmdCreateParallelBlas</b> (VkCommandBuffer cmd, std::vector&lt; <a class="el" href="structnvvk_1_1_acceleration_structure_build_data.html">AccelerationStructureBuildData</a> &gt; &amp;blasBuildData, std::vector&lt; nvvk::AccelKHR &gt; &amp;blasAccel, const std::vector&lt; VkDeviceAddress &gt; &amp;scratchAddress, VkDeviceSize hintMaxBudget=512 '000 '000)</td></tr>
<tr class="separator:a60566780bd870c341962c92e78a87447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a897f9d7865065fce75a240566aef77e8"><td class="memItemLeft" align="right" valign="top"><a id="a897f9d7865065fce75a240566aef77e8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>cmdCompactBlas</b> (VkCommandBuffer cmd, std::vector&lt; <a class="el" href="structnvvk_1_1_acceleration_structure_build_data.html">AccelerationStructureBuildData</a> &gt; &amp;blasBuildData, std::vector&lt; nvvk::AccelKHR &gt; &amp;blasAccel)</td></tr>
<tr class="separator:a897f9d7865065fce75a240566aef77e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f73b40761bb2170bd0c77899448fd1"><td class="memItemLeft" align="right" valign="top"><a id="a16f73b40761bb2170bd0c77899448fd1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>destroyNonCompactedBlas</b> ()</td></tr>
<tr class="separator:a16f73b40761bb2170bd0c77899448fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8707a53e7fb2af0a33a7c3bf0fa78d"><td class="memItemLeft" align="right" valign="top"><a id="abe8707a53e7fb2af0a33a7c3bf0fa78d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b> ()</td></tr>
<tr class="separator:abe8707a53e7fb2af0a33a7c3bf0fa78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb6a6e28c875f3b13841332e4c26d6e"><td class="memItemLeft" align="right" valign="top"><a id="a5cb6a6e28c875f3b13841332e4c26d6e"></a>
<a class="el" href="structnvvk_1_1_blas_builder_1_1_stats.html">Stats</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getStatistics</b> () const</td></tr>
<tr class="separator:a5cb6a6e28c875f3b13841332e4c26d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c4885e17ee032533cac729876b20d7"><td class="memItemLeft" align="right" valign="top"><a id="aa4c4885e17ee032533cac729876b20d7"></a>
VkDeviceSize&#160;</td><td class="memItemRight" valign="bottom"><b>getScratchSize</b> (VkDeviceSize hintMaxBudget, const std::vector&lt; <a class="el" href="structnvvk_1_1_acceleration_structure_build_data.html">nvvk::AccelerationStructureBuildData</a> &gt; &amp;buildData, uint32_t minAlignment=128) const</td></tr>
<tr class="separator:aa4c4885e17ee032533cac729876b20d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ff16fac378c3042976a488e1f15b53"><td class="memItemLeft" align="right" valign="top"><a id="a80ff16fac378c3042976a488e1f15b53"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>getScratchAddresses</b> (VkDeviceSize hintMaxBudget, const std::vector&lt; <a class="el" href="structnvvk_1_1_acceleration_structure_build_data.html">nvvk::AccelerationStructureBuildData</a> &gt; &amp;buildData, VkDeviceAddress scratchBufferAddress, std::vector&lt; VkDeviceAddress &gt; &amp;scratchAddresses, uint32_t minAlignment=128)</td></tr>
<tr class="separator:a80ff16fac378c3042976a488e1f15b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages the construction and optimization of Bottom-Level Acceleration Structures (BLAS) for Vulkan Ray Tracing. </p>
<p>This class is designed to facilitates the construction of BLAS based on provided build information, queries for compaction potential, compacts BLAS for efficient memory usage, and cleans up resources. It ensures that operations are performed within a specified memory budget, if possible, and provides statistical data on the compaction results. This class is crucial for optimizing ray tracing performance by managing BLAS efficiently in Vulkan-enabled applications.</p>
<p>Usage:</p><ul>
<li>Create a <a class="el" href="classnvvk_1_1_blas_builder.html" title="Manages the construction and optimization of Bottom-Level Acceleration Structures (BLAS) for Vulkan R...">BlasBuilder</a> object with a resource allocator and device.</li>
<li>Call cmdCreateBlas or cmdCreateParallelBlas in a loop to create the BLAS from the provided BlasBuildData, until it returns true.</li>
<li>Call cmdCompactBlas to compact the BLAS that have been built.</li>
<li>Call destroyNonCompactedBlas to destroy the original BLAS that were compacted.</li>
<li>Call destroy to clean up all resources.</li>
<li>Call getStatistics to get statistics about the compacted BLAS.</li>
</ul>
<p>For parallel BLAS creation, the scratch buffer size strategy can be used to find the best size needed for the scratch buffer.</p><ul>
<li>Call getScratchSize to get the maximum size needed for the scratch buffer.</li>
<li>User allocate the scratch buffer with the size returned by getScratchSize.</li>
<li>Call getScratchAddresses to get the address for each BLAS.</li>
<li>Use the scratch buffer addresses to build the BLAS in parallel. </li>
</ul>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>acceleration_structures.hpp</li>
<li>acceleration_structures.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacenvvk.html">nvvk</a></li><li class="navelem"><a class="el" href="classnvvk_1_1_blas_builder.html">BlasBuilder</a></li>
    <li class="footer">Generated on Thu Apr 3 2025 15:13:48 for nvpro_core by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
